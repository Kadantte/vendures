<vdr-dropdown>
    <button class="alerts-button" vdrDropdownTrigger>
        <vdr-status-badge *ngIf="hasAlerts$ | async" [type]="'warning'"></vdr-status-badge>
        <div class="user-circle">
            <ng-icon hlm shape="bell" size="16"></ng-icon>
        </div>
    </button>
    <vdr-dropdown-menu vdrPosition="bottom-right">
        <ng-container *ngIf="activeAlerts$ | async as activeAlerts">
            <ng-container *ngIf="activeAlerts.length; else noAlerts">
                <button
                    *ngFor="let alert of activeAlerts"
                    vdrDropdownItem
                    (click)="alert.runAction()"
                    [disabled]="alert.hasRun"
                >
                    <ng-icon hlm shape="check is-success" *ngIf="alert.hasRun"></ng-icon>
                    {{ alert.label.text | translate: alert.label.translationVars }}
                </button>
            </ng-container>
        </ng-container>
        <ng-template #noAlerts>
            <div class="no-alerts">
                <ng-icon hlm shape="check" class="mr-1" /><span>{{ 'common.no-alerts' | translate }}</span>
            </div></ng-template
        >
    </vdr-dropdown-menu>
</vdr-dropdown>
